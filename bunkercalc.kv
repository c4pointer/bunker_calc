ScreenManager:
    id: manag
    TabScreen:
    TotalScreen:

<TabScreen>:
    id: tab_screen
    name: 'tab_screen'
    MDBoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            id: top_menu
            elevation:4
            pos_hint: {"top": 1}
            # anchor_title: "center"
            md_bg_color: "#e7e4c0"
            specific_text_color: "#4a4939"
            left_action_items: [["menu", lambda x:app.screen2()]]
            right_action_items: [["menu", lambda x: app.dropdown(x)]]
            # right_action_items: [["menu", lambda x:app.screen2()]]

            MDLabel:
                id: right_action
                halign: "left"
                theme_text_color: "Custom"
                text_color: "#4a4939"
            MDLabel:
                id: select_vessel
                halign: "center"
                theme_text_color: "Custom"
                text_color: "#4a439"
            
        # MDBoxLayout:
        #     orientation: "horizontal"
        #     # pos_hint: {"central_x": .5}

        #     # size: 1, 1
        #     # md_bg_color: app.theme_cls.primary_color
        MDTabs:
            id: tabs
            on_tab_switch: app.on_tab_switch(*args)
            

#        MDFlatButton:
#            id : btn_tab
#            text: "Tabs"
#            pos_hint: {'center_x': 0.5, 'center_y': 0.25}
#            on_press: root.manager.current= "total_screen"
            
        # Will always be at the bottom of the screen.

    
<TotalScreen>:
    name:'total_screen'
    MDTopAppBar:
        id: total_menu
        elevation:4
        pos_hint: {"top": 1}
        #md_bg_color: "#e7e4c0"
        specific_text_color: "#4a4939"
        right_action_items: [["menu", lambda x:(x)]]
        left_action_items: [["menu", lambda x:app.screen2()]]

        MDLabel:
            id: right_action
            halign: "left"
            theme_text_color: "Custom"
            text_color: "#4a4939"

    MDFloatLayout:
        orientation: "vertical"
        MDLabel:
            id: total_hfo
            halign: 'center'
            font_size: "30dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.8}
        MDLabel:
            id: total_mdo
            halign: 'center'
            font_size: "30dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.63}
        MDFloatingActionButton:
            id: close
            text: 'Exit'
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            icon: "close"
            md_bg_color: ("#f56c5a")
            on_press: app.stop()
        MDFlatButton:
            id : btn_total
            text: "Go back"
            md_bg_color: .3,.5,.4,1
            pos_hint: {'center_x': 0.5, 'center_y': 0.3}
            on_press: root.manager.current= "tab_screen"
        MDBottomAppBar:
            MDTopAppBar:
                title: "by Oleg Zubak"
                icon: "fuel"
                type: "bottom"
                left_action_items: [["alpha-c-box", lambda x: x]]
                mode: "end"


<Tab>

 
    # MDBoxLayout:
    #     orientation: "vertical"
    #     size_hint: .7, 1
    #     pos_hint: {"center_x": .4, "y":.15}
        # size: 0.7, 1
        # adaptive_height: True
        # md_bg_color:  "lightblue"  #app.theme_cls.primary_color
    MDTextField:
        id: density_field
        helper_text: "Density (example: 0.9588)"
        hint_text: "Density (example: 0.8566)"
        helper_text_mode: "on_focus"
        # icon_left: "fuel"
        # Maximal lenth of input sounding
        max_text_length: 6
        icon_left_color: app.theme_cls.primary_color
        pos_hint: {'center_x': 0.5, 'center_y': 0.9}
        size_hint: .5, None
        #size: 300,1
        # width: 200
        # on_text_validate : app.callback_Calc(*args)
    # MDBoxLayout:
    #         orientation: "vertical"
    MDLabel:
        id: label
        halign: "center"
        pos_hint: { 'center_y': 0.75}
        size_hint: .9, None

        # Enter sound value of each tank
    MDTextField:
        id: sound_field
        helper_text: "do not input ullage!"
        helper_text_mode: "on_focus"
        icon_left: "fuel"
        # Maximal lenth of input sounding
        max_text_length: 4
        icon_left_color: app.theme_cls.primary_color
        pos_hint: {'center_x': 0.5, 'center_y': 0.55}
        size_hint: .5, None
        # size: .1, .2
        # width: 200
        on_text_validate : app.callback_Calc(*args)

    MDFloatingActionButton:
        id:calc
        text: 'Calculate'
        pos_hint: {'center_x': 0.5, 'center_y': 0.4}
        icon: "calculator"
        theme_icon_color: "Secondary"
        md_bg_color: ("#465d5a")
        on_press: app.callback_Calc(*args)
        # size_hint: None, None
    MDFloatingActionButton:
        id: close
        text: 'Exit'
        pos_hint: {'center_x': 0.5, 'center_y': 0.25}
        icon: "close"
        md_bg_color: ("#f56c5a")
        on_press: app.stop()
        # size_hint: None, None
    # MDFlatButton:
    #     id: calc
    #     text: 'Calculate'
    #     pos_hint: {'center_x': 0.5, 'center_y': 0.395}
    #     md_bg_color: ("#465d5a")
    #     on_press: app.callback_Calc(*args)

    # Close Button

    

        #MDFlatButton:
            #id: close
            #text: 'Close'
            #pos_hint: {'center_x': 0.5, 'center_y': 0.285}
            #md_bg_color: ("#f00c5a")
            #on_press: app.stop()
    MDBoxLayout:
        pos_hint: { "x":.7 ,"center_y": .5}
        size_hint: .3, .85
        # size: 0.3, 1
        
        orientation: "horizontal"
        # md_bg_color:  "green"  #app.theme_cls.primary_color

        MDLabel:
            id: slider_lbl
            text: "Temp:\n"+str(round(float(temp_slider.value),0))
            pos_hint: {"center_x":.05,"center_y": .4}
            halign: "right"
            # size_hint: .2, .2

        MDSlider: 
            id: temp_slider
            hint: False
            orientation: "vertical"
            hint_bg_color: "white"
            min: 0
            max: 100
            on_value: app.my_value(*args)  # <<<<<<<<<<<
            value: 15
            thumb_color_inactive: "red"
            pos_hint: { "center_x": .2, "center_y": .55}
            size_hint_y: .8
    MDBottomAppBar:
        MDTopAppBar:
            id: bottom_bar
            title: "by Oleg Zubak"
            icon: "fuel"
            type: "bottom"
            left_action_items: [["alpha-c-box", lambda x: x]]
            mode: "free-end"