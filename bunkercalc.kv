ScreenManager:
    TabScreen:
    TotalScreen:

<TabScreen>:
    name: 'tab_screen'
    MDBoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            id: top_menu
            elevation:4
            pos_hint: {"top": 1}
            #md_bg_color: "#e7e4c0"
            specific_text_color: "#4a4939"
            left_action_items: [["menu", lambda x: app.dropdown(x)]]

        MDTabs:
            id: tabs
            on_tab_switch: app.on_tab_switch(*args)

#        MDFlatButton:
#            id : btn_tab
#            text: "Tabs"
#            pos_hint: {'center_x': 0.5, 'center_y': 0.25}
#            on_press: root.manager.current= "total_screen"
            
        # Will always be at the bottom of the screen.
        MDBottomAppBar:
            MDTopAppBar:
                id: bottom_bar
                title: "by Oleg Zubak"
                icon: "fuel"
                type: "bottom"
                left_action_items: [["alpha-c-box", lambda x: x]]
                mode: "end"
<TotalScreen>:
    name:'total_screen'
    MDTopAppBar:
        id: total_menu
        elevation:4
        pos_hint: {"top": 1}
        #md_bg_color: "#e7e4c0"
        specific_text_color: "#4a4939"
        left_action_items: [["menu", lambda x: app.dropdown(x)]]
    MDFloatLayout:
        orientation: "vertical"
        MDLabel:
            id: total
            halign: 'center'
            font_size: "50dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.7}
        MDFloatingActionButton:
            id: close
            text: 'Exit'
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            icon: "close"
            md_bg_color: ("#f56c5a")
            on_press: app.stop()
        MDFlatButton:
            id : btn_total
            text: "Go back"
            md_bg_color: .3,.5,.4,1
            pos_hint: {'center_x': 0.5, 'center_y': 0.3}
            on_press: root.manager.current= "tab_screen"
        MDBottomAppBar:
            MDTopAppBar:
                title: "by Oleg Zubak"
                icon: "fuel"
                type: "bottom"
                left_action_items: [["alpha-c-box", lambda x: x]]
                mode: "end"


<Tab>

    MDLabel:
        id: label
        halign: "center"
        pos_hint: {'center_x': 0.5, 'center_y': 0.7}

        # Enter sound value of each tank
    MDTextField:
        id: sound_field
        helper_text: "do not input ullage!"
        helper_text_mode: "on_focus"
        icon_left: "fuel"
        # Maximal lenth of input sounding
        max_text_length: 4
        icon_left_color: app.theme_cls.primary_color
        pos_hint: {'center_x': 0.5, 'center_y': 0.55}
        size_hint: 0.5, None
        #size: 300,1
        # width: 200
        on_text_validate : app.callback_Calc(*args)

    MDFloatingActionButton:
        id:calc
        text: 'Calculate'
        pos_hint: {'center_x': 0.5, 'center_y': 0.4}
        icon: "calculator"
        theme_icon_color: "Secondary"
        md_bg_color: ("#465d5a")
        on_press: app.callback_Calc(*args)

    #MDFlatButton:
        #id: calc
        #text: 'Calculate'
        #pos_hint: {'center_x': 0.5, 'center_y': 0.395}
        #md_bg_color: ("#465d5a")
        #on_press: app.callback_Calc(*args)

    # Close Button

    MDFloatingActionButton:
        id: close
        text: 'Exit'
        pos_hint: {'center_x': 0.5, 'center_y': 0.25}
        icon: "close"
        md_bg_color: ("#f56c5a")
        on_press: app.stop()

    #MDFlatButton:
        #id: close
        #text: 'Close'
        #pos_hint: {'center_x': 0.5, 'center_y': 0.285}
        #md_bg_color: ("#f00c5a")
        #on_press: app.stop()
